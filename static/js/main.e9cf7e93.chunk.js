(this["webpackJsonpabbas-test-task"]=this["webpackJsonpabbas-test-task"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(1),o=n.n(s),i=n(3),r=n.n(i),c=(n(13),n(14),n(4)),u=n(5),p=n(7),l=n(6);function h(t){var e=1e3;return t>e&&(t=e),Math.floor(Math.random()*e)%t===0}var v=function(t){var e="post",n=[];return h(2)&&n.push("pre"+t),h(2)&&n.push(t),h(2)&&n.push(t+e),h(2)&&n.push("pre"+t+e),new Promise((function(t,e){var a=200*Math.random();setTimeout((function(){h(10)?e():t(n)}),a)}))},f=(n(15),13),g=38,O=40,d=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).handleClickOutside=function(t){a.wrapperRef&&!a.wrapperRef.current.contains(t.target)&&a.setState({showOptions:!1})},a.onOptionClick=function(t){t.stopPropagation(),a.changeValue("".concat(t.currentTarget.innerText," ")),a.setState({activeOption:0,showOptions:!1}),a.searchInput.current.focus()},a.onKeyDown=function(t){if(a.state.showOptions)switch(t.keyCode){case f:return a.setState({activeOption:0,showOptions:!1}),void a.changeValue(a.state.suggestions[a.state.activeOption]+" ");case g:if(t.preventDefault(),0===a.state.activeOption)return;return void a.setState({activeOption:a.state.activeOption-1});case O:if(t.preventDefault(),a.state.activeOption===a.state.suggestions.length-1)return;return void a.setState({activeOption:a.state.activeOption+1});default:return}},a.changeValue=function(t){var e=a.state.value.split(" ");e[e.length-1]=t,a.setState({value:e.join(" ")})},a.generateSuggestionList=function(t){var e=t.split(" ");""!==e[e.length-1]&&v(e[e.length-1]).then((function(t){return a.setState({suggestions:t,showOptions:!0})})).catch(console.error)},a.onInputChange=function(t){a.setState({value:t.target.value,showOptions:!1}),a.getSuggestionsFromServer(t.target.value)},a.state={value:"",suggestions:[],activeOption:0,showOptions:!1},a.searchInput=o.a.createRef(),a.wrapperRef=o.a.createRef(),a.getSuggestionsFromServer=function(t,e){var n;return function(){var a=this,s=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(a,s)}),e)}}(a.generateSuggestionList,500),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var t=this,e=this.state,n=e.value,s=e.showOptions,o=e.suggestions;return Object(a.jsxs)("div",{className:"searchBoxContainer",ref:this.wrapperRef,children:[Object(a.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Search",className:"form-control",value:n,onKeyDown:this.onKeyDown,onChange:this.onInputChange,ref:this.searchInput}),Object(a.jsx)("ul",{className:"options",children:s&&o&&o.map((function(e,n){return Object(a.jsx)("li",{className:n===t.state.activeOption?"optionActive listElement":"listElement",onClick:t.onOptionClick,children:e},e)}))})]})}}]),n}(o.a.Component),m=function(){return Object(a.jsx)("div",{className:"appContainer",children:Object(a.jsx)("div",{className:"searchContainer",children:Object(a.jsx)(d,{})})})},j=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),o(t),i(t)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),j()}},[[16,1,2]]]);
//# sourceMappingURL=main.e9cf7e93.chunk.js.map